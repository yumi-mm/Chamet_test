{"name": "用例67：留言-群聊消息-钻石包发送-领取", "status": "broken", "statusDetails": {"message": "FileNotFoundError: [Errno 2] No such file or directory: 'C:\\\\Users\\\\pgk bqt\\\\PycharmProjects\\\\github_Chamet\\\\ChametProject_UI\\\\Mypage_multi\\\\common../../screenshots/my_page/留言-群聊消息-钻石包发送-领取_2023-09-07 16_50_41.png'", "trace": "self = <test_case.test_mypage_message_multi.Test_multi_mypage object at 0x00000135149036D0>\n\n    @allure.story('留言')\n    # @pytest.mark.skip(reason=\"本次不执行\")\n    @allure.severity(allure.severity_level.BLOCKER)\n    @allure.title('用例67：留言-群聊消息-钻石包发送-领取')\n    def test_homepage67(self):\n        logging.info(\"===留言-群聊消息-钻石包发送-领取===\")\n        try:\n            self.multiman.audience_send_diamondenvelope(2, 200)\n            envelope = self.multiman.messageregion_getenvelope()\n            assert envelope\n            logging.info('===断言成功，成功发送钻石包===')\n            self.multiwoman.audience_get_diamondenvelope()\n            user_head = self.multiwoman.getenvelope_userhead()\n            assert user_head\n            logging.info('===断言成功,女生成功领取钻石包===')\n            self.multiman.get_diamond_envelope()\n            user_head = self.multiman.getenvelope_userhead()\n            assert user_head\n            logging.info('===断言成功，男生成功领取钻石包===')\n            thank_ele = self.multiwoman.find_element(MobileBy.ID, \"com.hkfuliao.chamet:id/tv_thanking_1\")\n            thank_text = thank_ele.text.encode(\"utf-8\")\n            thank_ele.click()\n            self.multiman.tap(335,1903)\n            time.sleep(5)\n>           audience_messageregion = self.multiman.groupmessage_text(-1)\n\ntest_mypage_message_multi.py:1569: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <common.mypage_multi.multiMypage_man.MultiMan object at 0x0000013513CE7590>, num = -1\n\n    def groupmessage_text(self,num):\n        grouptext_message = self.driver.find_elements(MobileBy.ID,\"com.hkfuliao.chamet:id/tv_content\")\n>       return grouptext_message[num].text.encode(\"utf-8\")\nE       IndexError: list index out of range\n\n..\\common\\mypage_multi\\multiMypage_man.py:1979: IndexError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <test_case.test_mypage_message_multi.Test_multi_mypage object at 0x00000135149036D0>\n\n    @allure.story('留言')\n    # @pytest.mark.skip(reason=\"本次不执行\")\n    @allure.severity(allure.severity_level.BLOCKER)\n    @allure.title('用例67：留言-群聊消息-钻石包发送-领取')\n    def test_homepage67(self):\n        logging.info(\"===留言-群聊消息-钻石包发送-领取===\")\n        try:\n            self.multiman.audience_send_diamondenvelope(2, 200)\n            envelope = self.multiman.messageregion_getenvelope()\n            assert envelope\n            logging.info('===断言成功，成功发送钻石包===')\n            self.multiwoman.audience_get_diamondenvelope()\n            user_head = self.multiwoman.getenvelope_userhead()\n            assert user_head\n            logging.info('===断言成功,女生成功领取钻石包===')\n            self.multiman.get_diamond_envelope()\n            user_head = self.multiman.getenvelope_userhead()\n            assert user_head\n            logging.info('===断言成功，男生成功领取钻石包===')\n            thank_ele = self.multiwoman.find_element(MobileBy.ID, \"com.hkfuliao.chamet:id/tv_thanking_1\")\n            thank_text = thank_ele.text.encode(\"utf-8\")\n            thank_ele.click()\n            self.multiman.tap(335,1903)\n            time.sleep(5)\n            audience_messageregion = self.multiman.groupmessage_text(-1)\n            print(thank_text,audience_messageregion)\n            # print(thank_text.encode(\"utf-8\"))\n            # print(audience_messageregion.encode(\"utf-8\"))\n            assert thank_text in audience_messageregion\n            logging.info('===断言成功,男生成功收到主播发送的感谢语===')\n    \n        except AssertionError as e:\n            logging.info('===断言失败===')\n            screen_name = self.multiman.screenshot('留言-群聊消息-钻石包发送-领取')\n            logging.info(f'截图成功，图片为{screen_name}')\n            raise\n        except:\n            logging.info(\"===执行失败===\")\n>           screen_name = self.multiman.screenshot('留言-群聊消息-钻石包发送-领取')\n\ntest_mypage_message_multi.py:1583: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <common.mypage_multi.multiMypage_man.MultiMan object at 0x0000013513CE7590>, module = '留言-群聊消息-钻石包发送-领取'\n\n    def screenshot(self, module):\n        time = self.getTime()\n        # image_file = os.path.dirname(os.path.dirname(__file__)) + '/screenshots/my_page/%s_%s.png' % (module, time)\n        image_file = os.path.dirname(os.path.dirname(__file__)) + '../../screenshots/my_page/%s_%s.png' % (module, time)\n        self.driver.get_screenshot_as_file(image_file)\n>       with open(image_file, mode='rb') as f:\nE       FileNotFoundError: [Errno 2] No such file or directory: 'C:\\\\Users\\\\pgk bqt\\\\PycharmProjects\\\\github_Chamet\\\\ChametProject_UI\\\\Mypage_multi\\\\common../../screenshots/my_page/留言-群聊消息-钻石包发送-领取_2023-09-07 16_50_41.png'\n\n..\\common\\mypage_multi\\mypage_common_fun.py:112: FileNotFoundError"}, "attachments": [{"name": "log", "source": "1b82b2a0-7ee7-4f4f-83b5-86d8da298bb0-attachment.txt", "type": "text/plain"}], "start": 1694076602993, "stop": 1694076641799, "uuid": "7117fa49-6411-4303-9c16-633f581627fa", "historyId": "db0925a010adf6d7ce1e0731e971ab8d", "testCaseId": "db0925a010adf6d7ce1e0731e971ab8d", "fullName": "test_mypage_message_multi.Test_multi_mypage#test_homepage67", "labels": [{"name": "story", "value": "留言"}, {"name": "severity", "value": "blocker"}, {"name": "suite", "value": "test_mypage_message_multi"}, {"name": "subSuite", "value": "Test_multi_mypage"}, {"name": "host", "value": "DESKTOP-8OL56K6"}, {"name": "thread", "value": "14580-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_mypage_message_multi"}]}